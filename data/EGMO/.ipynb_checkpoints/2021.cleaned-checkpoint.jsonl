{"id": "egmo-2021-q1", "question": "The number $2021$ is fantabulous.\nFor any positive integer $m$,\nif any element of the set $\\{m, 2m+1, 3m\\}$ is fantabulous,\nthen all the elements are fantabulous.\nDoes it follow that the number $2021^{2021}$ is fantabulous?", "solution": "<div class=\"mdframed\">\nThe number $2021$ is fantabulous.\nFor any positive integer $m$,\nif any element of the set $\\{m, 2m+1, 3m\\}$ is fantabulous,\nthen all the elements are fantabulous.\nDoes it follow that the number $2021^{2021}$ is fantabulous?\n</div>\nWrite $a \\iff b$ to mean $a$ fantabulous iff $b$ fantabulous.\nNotice that for any integer $n$, we have\n\\[\n2n \\iff 4n+1 \\iff 12n+3 \\iff 6n+1 \\iff 3n \\iff n.\n\\]\nTogether with the given $2n+1 \\iff n$,\nit follows that if any integer is fantabulous then all of them are.", "category": null, "source": "EGMO", "year": 2021, "content": "The number \\(2021\\) is fantabulous.  \nFor any positive integer \\(m\\),  \nif any element of the set \\(\\{m, 2m+1, 3m\\}\\) is fantabulous,  \nthen all the elements are fantabulous.  \nDoes it follow that the number \\(2021^{2021}\\) is fantabulous?"}
{"id": "egmo-2021-q2", "question": "Find all functions $f \\colon \\QQ \\to \\QQ$\nsuch that the equation\n\\[f(xf(x)+y) = f(y) + x^2\\]\nholds for all rational numbers $x$ and $y$.", "solution": "<div class=\"mdframed\">\nFind all functions $f \\colon \\mathbb{Q} \\to \\mathbb{Q}$\nsuch that the equation\n\\[ f(xf(x)+y) = f(y) + x^2 \\]\nholds for all rational numbers $x$ and $y$.\n</div>\nThe answers are $f(x) \\equiv +x$\nand $f(x) \\equiv -x$ which work.\nTo show they are the only ones,\nwe follow an approach similar to \\texttt{SnowPanda}.\n\n<div class=\"claim*?\">\nIf $f(z) = 0$ then $z = 0$.\nIn other words, $f$ has at most one root, at $0$.\n</div>\n<div class=\"proof\">\nTake $P(z,0)$.\n</div>\n\n<div class=\"claim*?\">\nThe function $f$ is linear.\n</div>\n<div class=\"proof\">\nLet $a,b \\in \\mathbb{Q}$ be any two nonzero rational numbers, so $f(a), f(b) \\neq 0$.\nChoose nonzero integers $m$ and $n$ such that\n\\[ \\frac{n}{m} = \\frac{af(a)}{bf(b)}. \\]\nThen for any $y \\in \\mathbb{Q}$ we have\n\\begin{align*}\nf(y + maf(a)) &= f(y) + m \\cdot a^2 \\\\\nf(y + nbf(b)) &= f(y) + n \\cdot b^2.\n\\end{align*}\nThe two left-hand sides were equal by construction, so we get\n\\[ \\frac{af(a)}{bf(b)} = \\frac{n}{m} = \\frac{a^2}{b^2}. \\]\nThus $f(a) / a = f(b) / b$, as needed.\n</div>\n\nOnce $f$ is linear we here quickly recover the solution set.\n\\pagebreak", "category": null, "source": "EGMO", "year": 2021, "content": "Find all functions \\( f \\colon \\mathbb{Q} \\to \\mathbb{Q} \\) such that the equation\n\\[ f(xf(x) + y) = f(y) + x^2 \\]\nholds for all rational numbers \\( x \\) and \\( y \\)."}
{"id": "egmo-2021-q3", "question": "Let $ABC$ be a triangle with an obtuse angle at $A$.\nLet $E$ and $F$ be the intersections of the external bisector of angle $A$\nwith the altitudes of $ABC$ through $B$ and $C$ respectively.\nLet $M$ and $N$ be the points on the segments $EC$ and $FB$ respectively\nsuch that $\\angle EMA = \\angle BCA$ and $\\angle ANF = \\angle ABC$.\nProve that the points $E$, $F$, $N$, $M$ lie on a circle.", "solution": "<div class=\"mdframed\">\nLet $ABC$ be a triangle with an obtuse angle at $A$.\nLet $E$ and $F$ be the intersections of the external bisector of angle $A$\nwith the altitudes of $ABC$ through $B$ and $C$ respectively.\nLet $M$ and $N$ be the points on the segments $EC$ and $FB$ respectively\nsuch that $\\angle EMA = \\angle BCA$ and $\\angle ANF = \\angle ABC$.\nProve that the points $E$, $F$, $N$, $M$ lie on a circle.\n</div>\nCall the altitudes $\\overline{BZ}$ and $\\overline{CY}$,\nand $H$ the orthocenter.\nLet $W$ be the midpoint of $\\overline{BC}$.\nThen according to\n<strong>\\href{https://aops.com/community/c6h89098p519896}{IMO Shortlist 2005 G5}</strong>,\nthe line $AW$ is concurrent\nwith $(HYZ)$, $(HEF)$, $(HBC)$ at a point $Q$.\n\n<div class=\"center\">\n<div class=\"asy\">\nimport graph; size(9.98895cm);\npen ffxfqq = rgb(1.,0.49803,0.); pen yqqqqq = rgb(0.50196,0.,0.); pen zzttqq = rgb(0.6,0.2,0.); pen qqwuqq = rgb(0.,0.39215,0.);\npair H = (0.2,3.2), B = (-1.,0.2), C = (2.2,0.2), A = (0.2,1.), Y = (-0.55862,1.30344), Z = (1.21538,1.67692), F = (1.57146,1.14279), Q = (-0.68,2.76), M = (0.87710,0.51931);\ndraw(H--B--C--cycle, linewidth(0.6) + zzttqq);\ndraw(circle((0.34465,1.81068), 1.39682), linewidth(0.6) + ffxfqq);\ndraw(circle((0.2,2.1), 1.1), linewidth(0.6) + yqqqqq);\ndraw(circle((0.6,1.3), 1.94164), linewidth(0.6) + yqqqqq);\ndraw(H--B, linewidth(0.6) + zzttqq);\ndraw(B--C, linewidth(0.6) + zzttqq);\ndraw(C--H, linewidth(0.6) + zzttqq);\ndraw(B--Z, linewidth(0.6));\ndraw(C--Y, linewidth(0.6));\ndraw(B--F, linewidth(0.6) + blue);\ndraw(C--(-0.71824,0.90439), linewidth(0.6) + blue);\ndraw((0.6,0.2)--Q, linewidth(0.6) + green);\ndraw(circle((-1.,1.5), 1.3), linewidth(0.6) + qqwuqq);\ndraw((-0.71824,0.90439)--F, linewidth(0.6) + yqqqqq);\ndot(\"$H$\", H, dir((-5.899, 6.902)));\ndot(\"$B$\", B, dir((-8.675, -9.665)));\ndot(\"$C$\", C, dir((5.858, -4.103)));\ndot(\"$A$\", A, dir((1.801, 3.594)));\ndot(\"$Y$\", Y, dir((-13.028, -3.649)));\ndot(\"$Z$\", Z, dir((6.784, -1.212)));\ndot(\"$E$\", (-0.71824,0.90439), dir((-10.327, -2.673)));\ndot(\"$F$\", F, dir((7.966, -3.412)));\ndot(\"$Q$\", Q, dir((-8.162, 8.978)));\ndot(\"$N$\", (-0.15969,0.50808), dir((1.837, -9.672)));\ndot(\"$W$\", (0.6,0.2), dir((-1.409, -11.804)));\ndot(\"$M$\", M, dir((-1.312, -9.939)));\n</div>\n</div>\n\nSince $WA \\cdot WQ = WB^2$,\nit follows that $(AQB)$ is tangent to $\\overline{BC}$,\nergo $N \\in (AQB)$.\nThen\n\\[\n\\dang QNF = \\dang QNB = \\dang QAB = \\dang QAZ = \\dang QHZ = \\dang QHF\n\\]\nand hence $N$ lies on $(HQEF)$.\nSimilarly, so does $M$.\n\\pagebreak\n\n\\section{Solutions to Day 2}", "category": null, "source": "EGMO", "year": 2021, "content": "Let \\( ABC \\) be a triangle with an obtuse angle at \\( A \\).  \nLet \\( E \\) and \\( F \\) be the intersections of the external bisector of angle \\( A \\) with the altitudes of \\( ABC \\) through \\( B \\) and \\( C \\) respectively.  \nLet \\( M \\) and \\( N \\) be the points on the segments \\( EC \\) and \\( FB \\) respectively such that \\( \\angle EMA = \\angle BCA \\) and \\( \\angle ANF = \\angle ABC \\).  \nProve that the points \\( E \\), \\( F \\), \\( N \\), \\( M \\) lie on a circle."}
{"id": "egmo-2021-q4", "question": "Let $ABC$ be a triangle with incenter $I$\nand let $D$ be an arbitrary point on the side $BC$.\nLet the line through $D$ perpendicular to $BI$ intersect $CI$ at $E$.\nLet the line through $D$ perpendicular to $CI$ intersect $BI$ at $F$.\nProve that the reflection of $A$ across the line $EF$ lies on the line $BC$.", "solution": "<div class=\"mdframed\">\nLet $ABC$ be a triangle with incenter $I$\nand let $D$ be an arbitrary point on the side $BC$.\nLet the line through $D$ perpendicular to $BI$ intersect $CI$ at $E$.\nLet the line through $D$ perpendicular to $CI$ intersect $BI$ at $F$.\nProve that the reflection of $A$ across the line $EF$ lies on the line $BC$.\n</div>\nWe begin as follows:\n<div class=\"claim*\">\n  $AEIF$ is cyclic.\n</div>\n<div class=\"proof\">\n  Let $X = \\overline{CA} \\cap \\overline{DF}$.\n  Then\n  \\[\n  \\angle FXA = \\angle DXC = \\angle CDX = 90^{\\circ} - \\frac{1}{2} C\n  = \\angle AIB = \\angle FIA \n  \\]\n  \\[\n  \\angle EXF = \\angle EXD = \\angle XDE = \\angle FDE = \\angle EIF\n  \\]\n  which implies $AFXI$ and $FXIE$ are cyclic, respectively.\n</div>\n\n<div class=\"center\">\n<div class=\"asy\">\npair A = dir(110);\npair B = dir(210);\npair C = dir(330);\npair D = 0.7*C+0.3*B;\npair I = incenter(A, B, C);\npair E = extension(C, I, D, foot(D, B, I));\npair F = extension(B, I, D, foot(D, C, I));\n\nfilldraw(A--B--C--cycle, opacity(0.1)+lightcyan, deepcyan);\ndraw(B--F, lightblue);\ndraw(C--I--A, lightblue);\nfilldraw(D--E--F--cycle, opacity(0.1)+lightred, red);\n\nfilldraw(circumcircle(A, E, F), opacity(0.1)+yellow, deepgreen+dashed);\npair Y = extension(D, E, A, B);\npair X = extension(D, F, A, C);\ndraw(D--Y, red);\n\ndot(\"$A$\", A, dir(A));\ndot(\"$B$\", B, dir(B));\ndot(\"$C$\", C, dir(C));\ndot(\"$D$\", D, dir(270));\ndot(\"$I$\", I, dir(250));\ndot(\"$E$\", E, dir(225));\ndot(\"$F$\", F, dir(F));\ndot(Y);\ndot(\"$X$\", X, dir(X));\n</div>\n</div>\nNow, the dilation of the Simson line of $A$\nto $\\triangle IEF$ should be collinear,\nbut the reflections of $A$ about lines $BI$ and $CI$\nlie on line $BC$ by definition.\nThis solves the problem.\n\\pagebreak", "category": null, "source": "EGMO", "year": 2021, "content": "Let $ABC$ be a triangle with incenter $I$\nand let $D$ be an arbitrary point on the side $BC$.\nLet the line through $D$ perpendicular to $BI$ intersect $CI$ at $E$.\nLet the line through $D$ perpendicular to $CI$ intersect $BI$ at $F$.\nProve that the reflection of $A$ across the line $EF$ lies on the line $BC$."}
{"id": "egmo-2021-q5", "question": "A plane has a special point $O$ called the origin.\nLet $P$ be a set of $2021$ points in the plane such that\n\\begin{itemize}\n\\ii no three points in $P$ lie on a line and\n\\ii no two points in $P$ lie on a line through the origin.\n\\end{itemize}\nA triangle with vertices in $P$ is \\emph{fat}\nif $O$ is strictly inside the triangle.\nFind the maximum number of fat triangles.", "solution": "<div class=\"mdframed\">\nA plane has a special point \\( O \\) called the origin.\nLet \\( P \\) be a set of \\( 2021 \\) points in the plane such that\n<ul>\n\\ii no three points in \\( P \\) lie on a line and\n\\ii no two points in \\( P \\) lie on a line through the origin.\n</ul>\nA triangle with vertices in \\( P \\) is <em>fat</em>\nif \\( O \\) is strictly inside the triangle.\nFind the maximum number of fat triangles.\n</div>\nFor every pair of points \\( P \\) and \\( Q \\),\ndraw a directed arrow \\( P \\to Q \\) if \\( \\angle POQ \\) is labeled clockwise.\nThis gives a tournament on \\( 2021 \\) vertices,\nand a triangle is fat if its three edges form a directed cycle.\n\nConsequently, by\n<a href=\"https://aops.com/community/c6h130647p740398\" target=\"_blank\"><strong>Canada 2006/4</strong></a>,\nthere are at most \\( \\frac{1}{6} n(n+1)(2n+1) \\)\nfat triangles, where \\( n = 1010 \\).\nEquality occurs if the set of points are the vertices of a regular\n\\( 2021 \\)-gon containing \\( O \\).\n\\pagebreak", "category": null, "source": "EGMO", "year": 2021, "content": "A plane has a special point \\( O \\) called the origin. Let \\( P \\) be a set of \\( 2021 \\) points in the plane such that\n<ul>\n\\item no three points in \\( P \\) lie on a line and\n\\item no two points in \\( P \\) lie on a line through the origin.\n</ul>\nA triangle with vertices in \\( P \\) is <em>fat</em> if \\( O \\) is strictly inside the triangle. Find the maximum number of fat triangles."}
{"id": "egmo-2021-q6", "question": "Does there exist a nonnegative integer $a$ for which the equation\n\\[\\left\\lfloor\\frac{m}{1}\\right\\rfloor\n  + \\left\\lfloor\\frac{m}{2}\\right\\rfloor\n  + \\left\\lfloor\\frac{m}{3}\\right\\rfloor\n  + \\dotsb + \\left\\lfloor\\frac{m}{m}\\right\\rfloor = n^2 + a \\]\nhas more than one million different solutions\n$(m, n)$ where $m$ and $n$ are positive integers?", "solution": "```latex\n<div class=\"mdframed\">\nDoes there exist a nonnegative integer $a$ for which the equation\n\\[\n\\left\\lfloor\\frac{m}{1}\\right\\rfloor\n  + \\left\\lfloor\\frac{m}{2}\\right\\rfloor\n  + \\left\\lfloor\\frac{m}{3}\\right\\rfloor\n  + \\dotsb + \\left\\lfloor\\frac{m}{m}\\right\\rfloor = n^2 + a \n\\]\nhas more than one million different solutions\n$(m, n)$ where $m$ and $n$ are positive integers?\n</div>\nThe answer is yes.\nIn fact, we prove the following general version:\n<div class=\"claim*\">\nConsider any function $f \\colon \\mathbb{N} \\to \\mathbb{N}$\nsatisfying $f(m) = o(m^2)$.\nThen for some $a$, the equation\n\\[\nf(m) = n^2 + a \n\\]\nhas at least 1000000 solutions $(m,n)$.\n</div>\n<div class=\"proof\">\n  We consider triples $(m,n,a)$ satisfying the equation\n  with the additional property that\n  \\[\n  n = \\left\\lfloor \\sqrt{f(m)} \\right\\rfloor^2\n    \\implies a = f(m) - n^2 \\in [0, 2\\sqrt{f(m)}].\n  \\]\n  Now, let $M$ be large enough that\n  $\\max_{m=1}^M f(m) < \\frac{M^2}{2 \\cdot 10^{12}}$.\n  Then there are $M$ triples,\n  but $a < \\frac{M}{10^6}$ in each triple.\n  So some $a$ appears $10^6$ times.\n</div>\n\\pagebreak\n```", "category": null, "source": "EGMO", "year": 2021, "content": "Does there exist a nonnegative integer \\( a \\) for which the equation\n\\[\n\\left\\lfloor\\frac{m}{1}\\right\\rfloor\n  + \\left\\lfloor\\frac{m}{2}\\right\\rfloor\n  + \\left\\lfloor\\frac{m}{3}\\right\\rfloor\n  + \\dotsb + \\left\\lfloor\\frac{m}{m}\\right\\rfloor = n^2 + a\n\\]\nhas more than one million different solutions\n\\((m, n)\\) where \\( m \\) and \\( n \\) are positive integers?"}
