{"id": "imo-2024-q1", "solution": "Let $S_n = \\left\\lfloor \\alpha \\right\\rfloor + \\left\\lfloor 2 \\alpha \\right\\rfloor + \\left\\lfloor 3 \\alpha \\right\\rfloor + \\dots + \\left\\lfloor n \\alpha \\right\\rfloor$. We will show that $S_n$ is divisible by $n$ if and only if $\\alpha$ is an integer.\n\nFirst, suppose $\\alpha$ is an integer. Then, for any positive integer $k$, we have $\\left\\lfloor k\\alpha \\right\\rfloor = k\\alpha$, so\n\\[\nS_n = \\left\\lfloor \\alpha \\right\\rfloor + 2\\left\\lfloor \\alpha \\right\\rfloor + 3\\left\\lfloor \\alpha \\right\\rfloor + \\dots + n\\left\\lfloor \\alpha \\right\\rfloor = \\left(\\left\\lfloor \\alpha \\right\\rfloor + 2\\left\\lfloor \\alpha \\right\\rfloor + 3\\left\\lfloor \\alpha \\right\\rfloor + \\dots + n\\left\\lfloor \\alpha \\right\\rfloor\\right) = n\\left\\lfloor \\alpha \\right\\rfloor\\left(1+2+\\dots+n\\right) = \\frac{n(n+1)}{2}\\left\\lfloor \\alpha \\right\\rfloor.\n\\]\nSince $\\frac{n(n+1)}{2}$ is divisible by $n$ for all positive integers $n$, $S_n$ is divisible by $n$ for all positive integers $n$ when $\\alpha$ is an integer.\n\nNow, suppose $\\alpha$ is not an integer. Let $m = \\left\\lfloor \\alpha \\right\\rfloor$. Then, $m \\leq \\alpha < m+1$. Consider the term $\\left\\lfloor (m+1)\\alpha \\right\\rfloor$. Since $m \\leq \\alpha < m+1$, we have $m+1 \\leq (m+1)\\alpha < m+2$. This implies $\\left\\lfloor (m+1)\\alpha \\right\\rfloor = m+1$. Therefore, $S_{m+1} = m + 2m + 3m + \\dots + (m+1)m = (m+1)m\\left(\\frac{m+1}{2}\\right) = \\frac{(m+1)m^2}{2}$.\n\nSince $\\frac{(m+1)m^2}{2}$ is not divisible by $m+1$, $S_{m+1}$ is not divisible by $m+1$. Hence, if $\\alpha$ is not an integer, there exists a positive integer $n = m+1$ such that $S_n$ is not divisible by $n$.\n\nTherefore, the real numbers $\\alpha$ for which $S_n$ is divisible by $n$ for every positive integer $n$ are the integers."}
{"id": "imo-2024-q2", "solution": "Let $d = \\gcd(a,b)$. Then we can write $a = da'$ and $b = db'$, where $\\gcd(a',b') = 1$. \n\nNow, we have\n\\begin{align*}\n\\gcd(a^n+b, b^n+a) &= \\gcd((da')^n + db', (db')^n + da') \\\\\n&= \\gcd(d(a'^n+b'), d(b'^n+a')) \\\\\n&= \\gcd(a'^n+b', b'^n+a').\n\\end{align*}\n\nThus, we can assume without loss of generality that $\\gcd(a,b) = 1$. \n\nNow, let $d = \\gcd(a^n+b, b^n+a)$. Then $d$ divides both $a^n+b$ and $b^n+a$, so it divides their sum and their difference:\n\\begin{align*}\nd &\\mid (a^n+b) + (b^n+a) = a^n + b^n + a + b, \\\\\nd &\\mid (a^n+b) - (b^n+a) = a^n - b^n + a - b.\n\\end{align*}\n\nAdding and subtracting these two equations, we get\n\\begin{align*}\nd &\\mid 2(a^n + a), \\\\\nd &\\mid 2(a - b^n).\n\\end{align*}\n\nSince $\\gcd(a,b) = 1$, we have $\\gcd(a,a-b) = 1$. Therefore, $d$ must divide $2$, which means $d = 1$ or $d = 2$. \n\nIf $d = 1$, then $\\gcd(a^n+b, b^n+a) = 1$ for all $n$, and the sequence is eventually constant.\n\nIf $d = 2$, then $a$ and $b$ must be both odd. Let $a = 2a'$ and $b = 2b'$, where $a'$ and $b'$ are positive integers. Then the sequence becomes\n\\[\n\\gcd((2a')^n + 2b', (2b')^n + 2a') = \\gcd(2(a'^n+b'), 2(b'^n+a')) = 2\\gcd(a'^n+b', b'^n+a').\n\\]\n\nSince $\\gcd(a',b') = 1$, we have $\\gcd(a'^n+b', b'^n+a') = 1$ for all $n$. Therefore, the sequence is eventually constant in this case as well.\n\nIn conclusion, the sequence is eventually constant for all pairs of positive integers $(a,b)$ such that $\\gcd(a,b) = 1$."}
{"id": "imo-2024-q3", "solution": "Let's denote the sequences $a_1, a_3, a_5, \\ldots$ and $a_2, a_4, a_6, \\ldots$ as $b_i$ and $c_i$ respectively.\n\nSince $a_n$ is equal to the number of times $a_{n-1}$ appears in the list $(a_1, a_2, \\ldots, a_{n-1})$ for each $n > N$, we have $a_n = \\text{count}(a_{n-1})$ for all $n > N$.\n\nLet's consider the sequence $b_i$. Since $b_{2i+1} = a_{2i+1} = \\text{count}(a_{2i})$ for all $i > N$, we have $b_{2i+1} = \\text{count}(b_{2i})$ for all $i > N$. Similarly, for the sequence $c_i$, we have $c_{2i} = a_{2i} = \\text{count}(a_{2i-1})$ for all $i > N$, which implies $c_{2i} = \\text{count}(c_{2i-1})$ for all $i > N$.\n\nNow, we will show that one of the sequences $b_i$ or $c_i$ is eventually periodic. Suppose for the sake of contradiction that both sequences are not eventually periodic. This means that for any positive integer $M$, there exists an index $k > M$ such that $b_k \\neq b_{k+m}$ for all positive integers $m$ and $c_k \\neq c_{k+m}$ for all positive integers $m$.\n\nConsider the set $S = \\{b_k, b_{k+1}, b_{k+2}, \\ldots\\}$. Since $b_i$ is not eventually periodic, $S$ is an infinite set. Similarly, consider the set $T = \\{c_k, c_{k+1}, c_{k+2}, \\ldots\\}$, which is also an infinite set.\n\nNow, since $b_{2i+1} = \\text{count}(b_{2i})$ for all $i > N$, the elements of $S$ are non-decreasing. Similarly, since $c_{2i} = \\text{count}(c_{2i-1})$ for all $i > N$, the elements of $T$ are non-decreasing.\n\nSince $S$ and $T$ are infinite sets of non-decreasing positive integers, there exist infinitely many distinct elements in both sets. Let $m$ be the smallest positive integer such that $b_{k+m} \\notin S$ and $c_{k+m} \\notin T$. Then, $b_{k+m} \\neq b_{k+n}$ for all positive integers $n < m$ and $c_{k+m} \\neq c_{k+n}$ for all positive integers $n < m$.\n\nHowever, this contradicts the fact that $b_{k+m} = \\text{count}(b_{k+m-1})$ and $c_{k+m} = \\text{count}(c_{k+m-1})$. Therefore, at least one of the sequences $b_i$ or $c_i$ must be eventually periodic."}
{"id": "imo-2024-q4", "solution": "Let $D$ be the point where the incircle touches side $BC$. Let $E$ and $F$ be the points where the incircle touches sides $AC$ and $AB$, respectively. Let $M$ be the midpoint of $BC$. Let $Q$ be the intersection point of $EF$ and $BC$. Let $R$ be the intersection point of $EF$ and $AI$. Let $S$ be the intersection point of $EF$ and $XY$. Let $T$ be the intersection point of $XY$ and $BC$. Let $U$ be the intersection point of $AI$ and $BC$. Let $V$ be the intersection point of $AI$ and $XY$.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $K$ and $L$ are the midpoints of $AC$ and $AB$, respectively, we have $KL \\parallel BC$. Since $KL$ is parallel to $BC$ and $K$ is the midpoint of $AC$, we have $AK = KC$. Similarly, $AL = LB$. Therefore, $KL$ is the midline of triangle $ABC$, and $KL$ is parallel to $BC$ and half of $BC$ in length. Thus, $KM = ML = \\frac{1}{2}BC$.\n\nSince $K$ and $L$ are the midpoints of $AC$ and $AB$, respectively, we have $KL \\parallel BC$. Since $KL$ is parallel to $BC$ and $K$ is the midpoint of $AC$, we have $AK = KC$. Similarly, $AL = LB$. Therefore, $KL$ is the midline of triangle $ABC$, and $KL$ is parallel to $BC$ and half of $BC$ in length. Thus, $KM = ML = \\frac{1}{2}BC$.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle XFE$. Therefore, quadrilateral $XIDE$ is cyclic. Similarly, quadrilateral $YIFD$ is cyclic.\n\nSince $X$ is the point where the line parallel to $AC$ is tangent to the incircle, we have $\\angle XID = \\angle ADE = \\angle AEF = \\angle"}
{"id": "imo-2024-q5", "solution": "Let's consider the following strategy for Turbo:\n\n1. Turbo starts at any cell in the first row.\n2. Turbo moves to the cell in the second row that is in the same column as the cell he is currently in.\n3. Turbo moves to the cell in the third row that is in the same column as the cell he is currently in.\n4. Turbo continues this pattern until he reaches the last row.\n\nWith this strategy, Turbo can guarantee reaching the last row in at most $2022$ attempts. Here's why:\n\n- In the worst-case scenario, Turbo encounters a monster in each of the $2022$ rows from the second row to the second-to-last row. In this case, Turbo will be transported back to the first row $2022$ times.\n- On the $2023$rd attempt, Turbo will reach the last row without encountering any monsters, as there are no monsters in the last row.\n\nTherefore, the smallest integer $n$ such that Turbo has a strategy which guarantees being able to reach the bottom row in at most $n$ attempts is $n = 2022$."}
{"id": "imo-2024-q6", "solution": "Let $S = \\{f(r) + f(-r) \\mid r \\in \\mathbb{Q}\\}$ be the set of all rational numbers of the form $f(r) + f(-r)$ for some $r \\in \\mathbb{Q}$.\n\nSuppose $f$ is an aquaesulian function. We will show that $|S| \\leq 2$.\n\nLet $a = f(0)$ and $b = f(1)$. Consider the two cases:\n\nCase 1: $f(a) = a$.\nSubstitute $x = a$ and $y = 0$ into the aquaesulian property to get $f(a+f(0)) = f(a)$. Since $f(a) = a$, we have $f(a+a) = a$. Thus, $f(2a) = a$.\n\nNow, substitute $x = 2a$ and $y = 0$ into the aquaesulian property to get $f(2a+f(0)) = f(2a)$. Since $f(2a) = a$, we have $f(3a) = a$.\n\nContinuing this process, we can show that $f(na) = a$ for all positive integers $n$. Similarly, we can show that $f(-na) = -a$ for all positive integers $n$.\n\nNow, consider $f(b)$. Substitute $x = 0$ and $y = 1$ into the aquaesulian property to get $f(f(1)+1) = f(0) + 1$. Since $f(0) = a$, we have $f(b+1) = a + 1$.\n\nSubstitute $x = b$ and $y = 0$ into the aquaesulian property to get $f(b+f(0)) = f(b)$. Since $f(b) = b$, we have $f(b+a) = b$. Thus, $f(b+a) = b$.\n\nNow, substitute $x = b+a$ and $y = 0$ into the aquaesulian property to get $f(b+a+f(0)) = f(b+a)$. Since $f(b+a) = b$, we have $f(b+2a) = b$.\n\nContinuing this process, we can show that $f(b+na) = b$ for all positive integers $n$. Similarly, we can show that $f(b-na) = b$ for all positive integers $n$.\n\nTherefore, $f(r) = a$ for all $r \\in \\mathbb{Q}$ such that $r$ can be written as $r = na$ or $r = b + na$ for some positive integer $n$.\n\nIn this case, $S = \\{a + (-a), b + (-b)\\} = \\{0, 0\\}$, so $|S| = 1$.\n\nCase 2: $f(a) = b$.\nSimilarly, we can show that $f(r) = b$ for all $r \\in \\mathbb{Q}$ such that $r$ can be written as $r = na$ or $r = b + na$ for some positive integer $n$.\n\nIn this case, $S = \\{b + (-b), a + (-a)\\} = \\{0, 0\\}$, so $|S| = 1$.\n\nTherefore, in both cases, $|S| \\leq 1$.\n\nHence, there exists an integer $c$ such that for any aquaesulian function $f$, there are at most $c$ different rational numbers of the form $f(r) + f(-r)$. The smallest possible value of $c$ is $1$."}
